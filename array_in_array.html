
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script>
    function compareArray(mainArray, compareArr) {
        var mainArrayLength = mainArray.length;
        var compareArrayLength = compareArr.length;
        var match = true;
        for (i = 0; i < compareArrayLength; i++) {
            if ( mainArray.indexOf(compareArr[i]) == -1 ){
                    match = false;
                    return match;
                }
            }
            return match;
        };

/*
        var mainArr = [1, 3, 16, 5, 6, 7, 9, 10, 11, "maciek", "johny"];
        var compareArr = [1, 5, 3, "maciek", 16, "johny"];
        console.time('compareArray');
        if (compareArray(mainArr, compareArr)) {
            console.log("pasuje");
        } else {
            console.log("nie pasuje");
        }
        console.timeEnd('compareArray');
        */
var testdata  = [ {name: "MARGHERITA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella"], visible: true },
        {name: "GATTO NERO", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella", "szynka", "pieczarki", "kiełbasa", "cebula" ], visible: true },
        {name: "VEGETARIANA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "pieczarki", "kukurydza", "papryka", "groszek"], visible: true },
        {name: "TROPICANA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "ananas", "szynka", "kukurydza"], visible: true },
        {name: "CAPRICCIOSA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "szynka", "karczochy", "pieczarki", "czarne oliwki"], visible: true },
        {name: "TONNO", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "tuńczyk", "cebula", "groszek"], visible: true },
        {name: "FRUTTI DI MARE", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "owoce morza"], visible: true },
        {name: "QUATTRO FORMAGGI", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "camembert", "gouda", "feta"], visible: true },
        {name: "GAMBERETTO", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "krewetki", "cukinia"], visible: true },
        {name: "PRIMAVERA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "świeży pomidor", "ser"], visible: true },
        {name: "NAPOLI", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "filety z sardeli", "czarne oliwki", "papryka", "groszek"], visible: true },
        {name: "BECON", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "becon", "cebula", "papryka"], visible: true },
        {name: "SICILIANA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "salami", "pieczarki", "papryka"], visible: true },
        {name: "POLLO", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "kurczak wędzony", "kukurydza", "ananas"], visible: true },
        {name: "HOT CHILI", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "salami", "papryka", "peperoncino", "cebula"], visible: true },
        {name: "VEGETARIANA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "pieczarki", "kukurydza", "papryka", "groszek"], visible: true },
        {name: "BELLA",  priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella", "szynka", "salami", "becon", "pieczarki", "cebula", "czosnek" ], visible: true },
        {name: "CALZONE", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "pieczarki", "szynka"], visible: true },
        {name: "BROCCOLI", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "salami", "brokuły", "feta", "groszek"], visible: true },
        {name: "GYROS", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "gyros", "pieczarki", "cebula"], visible: true },
        {name: "POLLO II", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "kurczak wędzony", "pieczarki", "brokuły", "czosnek"], visible: true },
        {name: "DIAVOLA", priceSm: 9, priceBig: 12, priceFm:17  , "components": [ "sos pomidorowy", "mozzarella" , "kurczak wędzony", "peperoni łagodne", "peperoncino", "cebula"], visible: true }
];
var components = new Array();

for(i=0; i<testdata.length; i++){
      pizza = testdata[i].components;
      for(j=0; j< pizza.length; j++){
        components.push(pizza[j]);
      }

}

//console.log(components.toString());

var uniqueNames = [];
for(i=0;i<components.length;i++){
  if(uniqueNames.indexOf(components[i]) === -1){
    uniqueNames.push(components[i]);
  }
}

for(j=0;j<uniqueNames.length;j++){
  console.log('{pizzaComponent: "'+uniqueNames[j]+'", selected: false},');
}

//{pizzaComponent: "mozarella", selected : false},



</script>
